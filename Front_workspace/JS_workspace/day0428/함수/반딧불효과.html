<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Document</title>
    <script src = "../../lib/common.js"></script> 
    <script>
        
        let img;
        let targetX,targetY;
        let a = 0.1;
        let count = 0; //반딧불의 위치를 언제 바꿀지를 결정짓는 변수
        
        function init(){
            img = document.createElement("img");
            img.src = "../../../image/firebug/bug.png"

            img.style.position = "absolute";
            img.style.width = 40 + "px";
            img.style.left = 100 + "px";
            img.style.top = 100 + "px";

            document.getElementById("wrapper").appendChild(img);
        }
        
        

        function setPos(){
            targetX = getRandom(1366);
            targetY = getRandom(901);
        }

        function Move(){
            
            
            img.style.left = parseFloat(img.style.left) + a * (targetX - parseFloat(img.style.left)) + "px";
            img.style.top = parseFloat(img.style.top) + a * (targetY - parseFloat(img.style.top)) + "px";
        }

        function gameLoop(){
            count++;
            
            if(count % 100 ==0){setPos()};
            Move();
        }
        addEventListener('load', function(){
            init();
            let wrapper = document.getElementById("wrapper");
            // wrapper.addEventListener("mousedown",function(){
            //     targetX = event.clientX;
            //     targetY = event.clientY;
            // })
            setInterval("gameLoop()", 50);
        })
    </script>
    <style>
        body{margin:0;}

        #wrapper{
            height: 900px;
            background-image: url("../../../image/firebug/night.jpg");
            background-size: 100% 100%;
            position: relative;
        }
    </style>
</head>
<body>
    <div id="wrapper"></div>
</body>
</html>